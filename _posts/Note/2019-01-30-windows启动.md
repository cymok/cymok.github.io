---
layout: post
tags: 计算机 Windows
---

# 系统启动的两种方式

## Legacy + MBR:

```
LegacyBIOS→MBR→活动的主分区(一般的为C盘)→\bootmgr→\Boot\BCD→\Windows\system32\winload.exe
```

```
bootmgr文件（活动的主分区）导入BCD文件（活动分区根目录）
BCD文件可以配置多个winload.exe系统启动文件(系统盘)，实现多系统
```
======

## UEFI + GPT：

```
UEFIBIOS→EFI系统分区（FAT格式的分区，又称ESP分区)→\efi\boot\bootx64.efi→\efi\Microsoft\boot\bootmgfw.efi(是Bootmgr.efi吗)→\efi\Microsoft\boot\BCD→\Windows\system32\winload.efi
```

```
FAT分区或称为ESP分区或EFI分区
bootmgfw.efi文件(FAT分区)导入BCD文件(FAT分区)
BCD文件可以配置多个winload.efi系统引导文件(系统盘)，实现多系统
```

------
```
对于UEFI启动环境来说，Bootx64.efi 用处更大，这里Bootx64.efi 是个通用名，就是所任意有效的efi改成Bootx64.efi 都被计算机启动加载，并启动。
bootmgfw.efi 不是通用名，只适合启动Windows。
```

```
当然对于UEFI启动Windows来说Bootx64.efi 和bootmgfw.efi 其实是同一个文件，二者的循环冗余校验CRC值是一样的。
他们都有启动windows的能力，但是身处的位置不一样，
```

```
efi\boot\bootx64.efi 
efi\microsoft\boot\bootmgfw.efi
```

```
bootx64.efi 是计算机默认引导文件
bootmgfw.efi 是 Windows默认引导文件
```

------
